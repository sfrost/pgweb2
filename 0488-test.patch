From 8de71c454849b0491502f2916c8c3c09b10550a2 Mon Sep 17 00:00:00 2001
From: Sarah Conway <sarah.conway@crunchydata.com>
Date: Sat, 21 Apr 2018 17:37:27 -0700
Subject: [PATCH 488/488] test

---
 media/css/main.css       | 45 +++++++++++++++++++++++++++++++++------------
 media/js/main.js         |  9 +++++++++
 templates/base/base.html |  1 +
 3 files changed, 43 insertions(+), 12 deletions(-)
 create mode 100644 media/js/main.js

diff --git a/media/css/main.css b/media/css/main.css
index 156afb8..6005350 100644
--- a/media/css/main.css
+++ b/media/css/main.css
@@ -25,7 +25,6 @@ body {
     color: #515151;
     font-size: 11.5pt;
     line-height: 1.8rem;
-    padding-top: 60px; /** this is to account for the fixed navbar blocking content */
 }
 
 p {
@@ -571,6 +570,7 @@ ul.actions {
 
 .navbar {
   box-shadow: 0px 3px 15px rgba(0,0,0,0.2);
+  transition: all 0.3s;
 }
 
 /* #SIDEBAR UL STYLING */
@@ -726,6 +726,38 @@ th.formfieldnamecontainer {
 
 /** ALL RESPONSIVE QUERIES HERE */
 /* Small devices (landscape phones, 576px and up)*/
+
+@media (min-width: 992px) {
+    .navbar.compressed {
+      padding: 0 10px;
+    }
+
+    .pg-shout-box {
+      padding-top: 3.7rem;
+    }
+}
+
+@media (max-width: 992px) {
+    .navbar {
+      padding: 5px 10px;
+    }
+
+    .navbar-toggler-icon {
+      width: 1rem;
+      height: 1.5rem;
+    }
+
+    .pg-shout-box {
+      padding-top: 2.8rem;
+    }
+}
+
+@media (max-width: 1280px) {
+    input#q {
+      display: none;
+    }
+}
+
 @media (min-width: 576px) {
     /** NAVBAR */
     .nav-item > a {
@@ -740,19 +772,8 @@ th.formfieldnamecontainer {
     }
 }
 
-@media (max-width: 1200px) {
-}
-
-@media (max-width: 992px) {
-
-}
-
 @media (max-width: 768px) {
 
-  body {
-    padding-top: 55px;
-  }
-
   .jumbotron.jumbotron-fluid.pg-jumbotron {
     padding: 4em;
   }
diff --git a/media/js/main.js b/media/js/main.js
new file mode 100644
index 0000000..2fe331b
--- /dev/null
+++ b/media/js/main.js
@@ -0,0 +1,9 @@
+$(document).ready(function() {
+  $(window).on("scroll", function() {
+    if ($(window).scrollTop() >= 20) {
+      $(".navbar").addClass("compressed");
+    } else {
+      $(".navbar").removeClass("compressed");
+    }
+  });
+});
diff --git a/templates/base/base.html b/templates/base/base.html
index 6ff0b34..9c0b685 100644
--- a/templates/base/base.html
+++ b/templates/base/base.html
@@ -87,6 +87,7 @@
     <script src="/media/js/jquery-3.2.1.slim.min.js"></script>
     <script src="/media/js/popper.min.js"></script>
     <script src="/media/js/bootstrap.min.js"></script>
+    <script src="/media/js/main.js"></script>
     <script type="text/javascript">
       var _gaq = _gaq || [];
       _gaq.push(['_setAccount', 'UA-1345454-1']);
-- 
1.8.3.1

